<script lang="ts">
import * as vg from "@uwdata/vgplot";

// configure the coordinator to use DuckDB-WASM
// creates a new database instance running in-browser
const wasm = await vg.wasmConnector();
vg.coordinator().databaseConnector(wasm);

// load data into the database
// executes a query generated by the loadCSV helper
vg.coordinator().exec(vg.loadCSV("stocks", "stock-data.csv"));

// create an area chart, returned as an HTML element
// you can subsequently add this to your webpage
const chart = vg.plot(vg.areaY(vg.from("stocks"), { x: "Date", y: "Price" }));

// Render the chart to the DOM
// This will create a new <div> element with the chart inside
// You can then add this to your webpage
</script>
